const allQuestions = [
        {
          "question": "Коя е столицата на Албания?",
          "options": ["Талин", "Атина", "Тирана", "Берлин"],
          "correct": 2
        },
        {
          "question": "Тирана е столица на коя държава?",
          "options": ["Италия", "Албания", "Малта", "Франция"],
          "correct": 1
        },
    
        {
          "question": "Коя е столицата на Андора?",
          "options": ["Скопие", "Сан Марино", "София","Андора ла Веля"],
          "correct": 3
        },
        {
          "question": "Андора ла Веля е столица на коя държава?",
          "options": ["Португалия", "Гърция", "Андора", "Швеция"],
          "correct": 2
        },
    
        {
            "question": "Коя е столицата на Армения?",
            "options": ["Загреб", "Виена", "Ереван", "Хелзинки"],
            "correct": 2
        },
        {
            "question": "Ереван е столица на коя държава?",
            "options": ["Армения", "Австрия", "Белгия", "Ирландия"],
            "correct": 0
        },
    
        {
          "question": "Коя е столицата на Австрия?",
          "options": ["Загреб", "Виена", "Прага", "Хелзинки"],
          "correct": 1
        },
        {
          "question": "Виена е столица на коя държава?",
          "options": ["Германия","Белгия", "Австрия", "Ирландия"],
          "correct": 2
        },
    
        {
            "question": "Коя е столицата на Белгия?",
            "options": ["Берн", "Вадуц", "Брюксел", "Мадрид"],
            "correct": 2
        },
        {
            "question": "Брюксел е столица на коя държава?",
            "options": ["Австрия", "Белгия", "Швейцария", "Холандия"],
            "correct": 1
        },
    
        {
            "question": "Коя е столицата на България?",
            "options": ["Букурещ", "София", "Подгорица", "Атина"],
            "correct": 1
        },
        {
            "question": "София е столица на коя държава?",
            "options": ["Румъния", "Гърция", "Сърбия", "България"],
            "correct": 3
        },
    
        {
            "question": "Коя е столицата на Босна и Херцеговина?",
            "options": ["Сараево", "Загреб", "Скопие", "Белград"],
            "correct": 0
        },
        {
            "question": "Сараево е столица на коя държава?",
            "options": ["Косово", "Босна и Херцеговина", "Сърбия", "Северна Македония"],
            "correct": 1
        },
    
        {
          "question": "Коя е столицата на Беларус?",
          "options": ["Киев", "Минск", "Вилнюс", "Осло"],
          "correct": 1
        },
        {
          "question": "Минск е столица на коя държава?",
          "options": ["Латвия", "Украйна", "Полша", "Беларус"],
          "correct": 3
        },
    
        {
            "question": "Коя е столицата на Швейцария?",
            "options": ["Киев", "Берн", "Вилнюс", "Осло"],
            "correct": 1
        },
        {
            "question": "Берн е столица на коя държава?",
            "options": ["Латвия", "Украйна", "Швейцария", "Беларус"],
            "correct": 2
        },
    
        {
            "question": "Коя е столицата на Чехия?",
            "options": ["Прага", "Братислава", "Берлин", "Будапеща"],
            "correct": 0
        },
        {
            "question": "Прага е столица на коя държава?",
            "options": ["Полша", "Чехия", "Словакия", "Унгария"],
            "correct": 1
        },
    
        {
            "question": "Коя е столицата на Германия?",
            "options": ["Прага", "Братислава", "Берлин", "Будапеща"],
            "correct": 2
        },
        {
            "question": "Берлин е столица на коя държава?",
            "options": ["Полша", "Чехия", "Словакия", "Германия"],
            "correct": 3
        },
    
        {
            "question": "Коя е столицата на Дания?",
            "options": ["Прага", "Братислава", "Берлин", "Копенхаген"],
            "correct": 3
        },
        {
            "question": "Копенхаген е столица на коя държава?",
            "options": ["Дания", "Чехия", "Словакия", "Германия"],
            "correct": 0
        },
        
        {
            "question": "Коя е столицата на Естония?",
            "options": ["Прага", "Талин", "Берлин", "Будапеща"],
            "correct": 1
        },
        {
            "question": "Талин е столица на коя държава?",
            "options": ["Полша", "Чехия", "Словакия", "Естония"],
            "correct": 3
        },
    
        {
            "question": "Коя е столицата на Финландия?",
            "options": ["Прага", "Братислава", "Хелзинки", "Будапеща"],
            "correct": 2
        },
        {
            "question": "Хелзинки е столица на коя държава?",
            "options": ["Полша", "Чехия", "Словакия", "Финландия"],
            "correct": 3
        },
    
        {
            "question": "Коя е столицата на Англия?",
            "options": ["Загреб", "Любляна", "Лондон", "Скопие"],
            "correct": 2
        },
        {
            "question": "Лондон е столица на коя държава?",
            "options": ["Словения", "Англия", "Унгария", "Австрия"],
            "correct": 1
        },
    
        {
            "question": "Коя е столицата на Грузия?",
            "options": ["Англия", "Любляна", "Братислава", "Тбилиси"],
            "correct": 3
        },
        {
            "question": "Тбилиси е столица на коя държава?",
            "options": ["Словения", "Хърватия", "Грузия", "Австрия"],
            "correct": 1
        },
    
        {
            "question": "Коя е столицата на Гърция?",
            "options": ["Атина", "Любляна", "Лондон", "Скопие"],
            "correct": 0
        },
        {
            "question": "Атина е столица на коя държава?",
            "options": ["Словения", "Англия", "Унгария", "Гърция"],
            "correct": 3
        },
    
        {
          "question": "Коя е столицата на Хърватия?",
          "options": ["Любляна", "Братислава", "Загреб", "Скопие"],
          "correct": 2
        },
        {
          "question": "Загреб е столица на коя държава?",
          "options": ["Словения", "Хърватия", "Унгария", "Австрия"],
          "correct": 1
        },
    
        {
            "question": "Коя е столицата на Унгария?",
            "options": ["Будапеща", "Атина", "Валета", "Скопие"],
            "correct": 0
        },
        {
            "question": "Будашеща е столица на коя държава?",
            "options": ["Кипър", "Гърция", "Малта", "Унгария"],
            "correct": 3
        },
    
        {
            "question": "Коя е столицата на Ирландия?",
            "options": ["Дъблин", "Лондон", "Белфаст", "Единбург"],
            "correct": 0
        },
        {
            "question": "Дъблин е столица на коя държава?",
            "options": ["Великобритания", "Шотландия", "Северна Ирландия", "Ирландия"],
            "correct": 3
        },
    
        {
            "question": "Коя е столицата на Исландия?",
            "options": ["Осло", "Рейкявик", "Стокхолм", "Хелзинки"],
            "correct": 1
        },
        {
            "question": "Рейкявик е столица на коя държава?",
            "options": ["Дания", "Исландия", "Норвегия", "Швеция"],
            "correct": 1
        },
    
        {
            "question": "Коя е столицата на Италия?",
            "options": ["Венеция", "Флоренция", "Рим", "Милано"],
            "correct": 2
        },
        {
            "question": "Рим е столица на коя държава?",
            "options": ["Италия", "Гърция", "Франция", "Испания"],
            "correct": 0
        },
            
        {
            "question": "Коя е столицата на Лихтенщайн?",
            "options": ["Монако", "Цюрих", "Вадуц", "Женева"],
            "correct": 2
        },
        {
            "question": "Вадуц е столица на коя държава?",
            "options": ["Австрия", "Швейцария", "Лихтенщайн", "Франция"],
            "correct": 2
        },
            
        {
            "question": "Коя е столицата на Литва?",
            "options": ["Талин", "Рига", "Вилнюс", "Хелзинки"],
            "correct": 2
        },
        {
            "question": "Вилнюс е столица на коя държава?",
            "options": ["Естония", "Латвия", "Литва", "Финландия"],
            "correct": 2
        },
            
        {
            "question": "Коя е столицата на Люксембург?",
            "options": ["Женева", "Люксембург", "Амстердам", "Брюксел"],
            "correct": 1
        },
        {
            "question": "Люксембург е столица на коя държава?",
            "options": ["Люксембург", "Нидерландия", "Швейцария", "Белгия"],
            "correct": 0
        },
            
        {
            "question": "Коя е столицата на Латвия?",
            "options": ["Талин", "Рига", "Вилнюс", "Рим"],
            "correct": 1
        },
        {
            "question": "Рига е столица на коя държава?",
            "options": ["Латвия", "Естония", "Литва", "Финландия"],
            "correct": 0
        },
        
        {
            "question": "Коя е столицата на Молдова?",
            "options": ["Чишинау", "Букурещ", "Кишинев", "Киев"],
            "correct": 2
        },
        {
            "question": "Кишинев е столица на коя държава?",
            "options": ["Молдова", "Украйна", "Румъния", "Русия"],
            "correct": 0
        },
            
        {
            "question": "Коя е столицата на Македония?",
            "options": ["Атина", "Скопие", "Тирана", "Белград"],
            "correct": 1
        },
        {
            "question": "Скопие е столица на коя държава?",
            "options": ["Гърция", "Македония", "Сърбия", "Албания"],
            "correct": 1
        },
            
        {
            "question": "Коя е столицата на Черна гора?",
            "options": ["Подгорица", "Загреб", "Тирана", "Белград"],
            "correct": 0
        },
        {
            "question": "Подгорица е столица на коя държава?",
            "options": ["Хърватия", "Черна гора", "Сърбия", "Босна и Херцеговина"],
            "correct": 1
        },
          
        {
            "question": "Коя е столицата на Норвегия?",
            "options": ["Хелзинки", "Стокхолм", "Осло", "Рейкявик"],
            "correct": 2
        },
        {
            "question": "Осло е столица на коя държава?",
            "options": ["Исландия", "Швеция", "Норвегия", "Дания"],
            "correct": 2
        },
          
        {
            "question": "Коя е столицата на Полша?",
            "options": ["Краков", "Познан", "Гданск", "Варшава"],
            "correct": 3
        },
        {
            "question": "Варшава е столица на коя държава?",
            "options": ["Украйна", "Полша", "Чехия", "Словакия"],
            "correct": 1
        },
          
        {
            "question": "Коя е столицата на Португалия?",
            "options": ["Лисабон", "Коимбра", "Порто", "Брага"],
            "correct": 0
        },
        {
            "question": "Лисабон е столица на коя държава?",
            "options": ["Португалия", "Испания", "Гърция", "Италия"],
            "correct": 0
        },
          
        {
            "question": "Коя е столицата на Румъния?",
            "options": ["Тимишоара", "Букурещ", "Клуж-Напока", "Яш"],
            "correct": 1
        },
        {
            "question": "Букурещ е столица на коя държава?",
            "options": ["Румъния", "България", "Сърбия", "Молдова"],
            "correct": 0
        },
    
        {
            "question": "Коя е столицата на Сърбия?",
            "options": ["Белград", "Загреб", "Нови Сад", "Подгорица"],
            "correct": 0
        },
        {
            "question": "Белград е столица на коя държава?",
            "options": ["Сърбия", "Хърватия", "Албания", "Македония"],
            "correct": 0
        },
            
        {
            "question": "Коя е столицата на Словакия?",
            "options": ["Братислава", "Варшава", "Будапеща", "Прага"],
            "correct": 0
        },
        {
            "question": "Братислава е столица на коя държава?",
            "options": ["Словакия", "Чехия", "Полша", "Унгария"],
            "correct": 0
        },
            
        {
            "question": "Коя е столицата на Словения?",
            "options": ["Любляна", "Загреб", "Сараево", "Белград"],
            "correct": 0
        },
        {
            "question": "Любляна е столица на коя държава?",
            "options": ["Словения", "Хърватия", "Сърбия", "Черна гора"],
            "correct": 0
        },
            
        {
            "question": "Коя е столицата на Швеция?",
            "options": ["Гьотеборг", "Стокхолм", "Малмьо", "Упсала"],
            "correct": 1
        },
        {
            "question": "Стокхолм е столица на коя държава?",
            "options": ["Норвегия", "Швеция", "Дания", "Исландия"],
            "correct": 1
        },
    
        {
            "question": "Коя е столицата на Турция?",
            "options": ["Анкара", "Истанбул", "Измир", "Анталия"],
            "correct": 0
        },
        {
            "question": "Анкара е столица на коя държава?",
            "options": ["Турция", "Гърция", "Албания", "България"],
            "correct": 0
        },
          
        {
            "question": "Коя е столицата на Украйна?",
            "options": ["Одеса", "Харков", "Днепр", "Киев"],
            "correct": 3
        },
        {
            "question": "Киев е столица на коя държава?",
            "options": ["Молдова", "Румъния", "Украйна", "Беларус"],
            "correct": 2
        },
        
        {
            "question": "Коя е столицата на Косово?",
            "options": ["Тирана", "Прищина", "Белград", "Скопие"],
            "correct": 1
        },
        {
            "question": "Прищина е столица на коя държава?",
            "options": ["Косово", "Сърбия", "Албания", "Македония"],
            "correct": 0
        },
        
        {
            "question": "Коя е столицата на Нидерландия?",
            "options": ["Амстердам", "Хага", "Ротердам", "Утрехт"],
            "correct": 0
        },
        {
            "question": "Амстердам е столица на коя държава?",
            "options": ["Германия", "Швейцария", "Нидерландия", "Белгия"],
            "correct": 2
        },
        
        {
            "question": "Коя е столицата на Испания?",
            "options": ["Барселона", "Валенсия", "Севиля", "Мадрид"],
            "correct": 3
        },
        {
            "question": "Мадрид е столица на коя държава?",
            "options": ["Испания", "Франция", "Италия", "Португалия"],
            "correct": 0
        },
        
        {
            "question": "Коя е столицата на Франция?",
            "options": ["Париж", "Лион", "Марсилия", "Ница"],
            "correct": 0
        },
        {
            "question": "Париж е столица на коя държава?",
            "options": ["Франция", "Белгия", "Швейцария", "Нидерландия"],
            "correct": 0
        },
        
        {
            "question": "Коя е столицата на Кипър?",
            "options": ["Ларнака", "Лимасол", "Никозия", "Пафос"],
            "correct": 2
        },
        {
            "question": "Никозия е столица на коя държава?",
            "options": ["Гърция", "Кипър", "Турция", "Италия"],
            "correct": 1
        }
    ]


let quizQuestions = [];
let currentQuestion = 0;
let score = 0;


// Когато натиснеш бутона "quiz", показваме прозореца с бутона "Старт"
document.getElementById("test-btn").addEventListener("click", () => {
    document.getElementById("quizStartModal").style.display = "flex"; // Показваме прозореца със старт бутон
  });
  
  // Когато натиснеш бутона "Старт", стартираме викторината
  document.getElementById("startBtn").addEventListener("click", () => {
    startQuiz(); // Стартиране на викторината
    document.getElementById("quizStartModal").style.display = "none"; // Скриваме прозореца със старт бутон
  });

function getRandomQuestions(num) {
  return [...allQuestions].sort(() => 0.5 - Math.random()).slice(0, num);
}

function startQuiz() {
  quizQuestions = getRandomQuestions(10); // Ще вземе 10 въпроса случайно
  currentQuestion = 0;
  score = 0;
  document.getElementById("quizModal").style.display = "flex";
  showQuestion();
}

function showQuestion() {
  const q = quizQuestions[currentQuestion];
  let html = `<h3> ${currentQuestion + 1}. ${q.question}</h3>`;
  q.options.forEach((opt, i) => {
    html += `<button class="answer-btn" onclick="checkAnswer(${i}, this)">${opt}</button><br>`; // Изпращаме `this`, за да променим самия бутон
  });
  document.getElementById("quizContent").innerHTML = html;
  document.getElementById("nextBtn").style.display = "none"; // Скрива бутона "Следващ" преди отговор
}

function checkAnswer(selected, btn) {
  const correct = quizQuestions[currentQuestion].correct;
  const buttons = document.querySelectorAll("#quizContent .answer-btn");

  // Оцветяване на бутоните
  buttons.forEach((button, index) => {
    if (index === correct) {
      button.classList.add("correct"); // Верният отговор в зелено
    } else if (index === selected) {
      button.classList.add("incorrect"); // Грешният отговор в червено
    }
    button.disabled = true; // Забраняваме натискането на бутони след отговор
  });

  // Добавяме дебела граница на избрания отговор
  btn.style.border = "3px solid black"; // Дебела зелена граница (може да я промените на червена за грешен отговор)

  // Увеличаваме резултата, ако отговорът е верен
  if (selected === correct) score++;

  // Показване на съобщение за верен/грешен отговор
  document.getElementById("quizContent").innerHTML += `<p><strong>${selected === correct ? "Верен отговор!" : "Грешен отговор!"}</strong></p>`;
  document.getElementById("nextBtn").style.display = "inline-block"; // Показваме бутона "Следващ"
}

function nextQuestion() {
  currentQuestion++;
  if (currentQuestion < quizQuestions.length) {
    showQuestion(); // Покажи следващия въпрос
  } else {
    document.getElementById("quizContent").innerHTML = `<h3>Край на викторината!</h3><p>Резултат: ${score} от ${quizQuestions.length}</p>`;
    document.getElementById("nextBtn").style.display = "none"; // Скрива бутона "Следващ"
  }
}

function closeQuiz() {
  document.getElementById("quizModal").style.display = "none";
}

function closeQuizStartModal() {
    document.getElementById("quizStartModal").style.display = "none";
  }
